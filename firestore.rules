rules_version = '2';

service cloud.firestore {
  // Todas las reglas deben estar dentro de este bloque principal
  match /databases/{database}/documents {

    // REGLA 1: Para la colección "proyectos"
    match /proyectos/{proyectoId} {
      allow read: if true;
      allow write: if request.auth != null;
    }

    // REGLA 2: Para la colección "testimonios"
    match /testimonios/{testimonioId} {
      allow create: if true;
      allow read, update, delete: if request.auth != null;
    }
    
    // REGLA 3: Una regla general para todo lo demás (debe ir al final)
    // ATENCIÓN: Esta regla NO debe estar aquí. La lógica de "negar todo lo demás"
    // está implícita. Si no se define una regla para una colección, se niega por defecto.
    // La eliminaremos para evitar conflictos.

  }
}